#TCP communication client

Client for C++ server with encrypted communication via TCP using sockets

#About
Proof of concept client server communication we developed with my colleague when we was considering new communication for our platform in Company i was working for, requirements was binary protocol to save data usage of game communication, which is important mainly for mobile players and good protection of communication itself. It also has to implement lobby / game server logic to easy balancing of servers load. My Colleague had already basic C++ server with example client meeting requirements from his older projects and we just had to test if everything will run smoothly for flash client. So i've got his C++ source code, and reimplemented client side in actionscript.

#How it works
The main client class responsible for communication is TCPCommManager, after calling connectWithHost() method it take care of connecting via TCP socket to given server and then it starts to read data from socket. If there appeared some data as first thing it have to read and decrypt whole header of the packet which is 8byte long and it consists of information about packet type, data size and there is also crc of whole packet to check if packet is not corrupted, after all information from header are available it waits for body of the packet and then it create instance of coresponding packet class by deserializing packet body data. TCPCommManager then dispatches the event with the packet which is listened to and handled in application. TCPCommManager can also send packets when calling packetSend() method. This method just serialize packet and send it to the socket if tcp manager is connected or put it to queue which is processed after TCPCommManager is connected. Serialisation / Deserialisation of packet include encryption which takes in account number of packets already sent, so its not easy to inject new packet or modify existing one. In case that non-valid packet arrives to the server it disconnects the client immediately.

In this example application main class(Main.as) is responsible for initializing TCP manager, connecting it first to lobby server and getting list of actual game servers, after that it disconects from the lobby server and it connect to the game server it self and ping/pong packet started to be sent from server to client and back. When client does not answer ping/pong messages for a given time, server also disconnects the client.
